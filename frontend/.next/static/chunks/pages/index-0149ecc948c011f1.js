(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(44698)}])},44698:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return O}});var d=c(47568),e=c(41799),f=c(69396),g=c(34051),h=c.n(g),i=c(85893),j=c(41664),k=c.n(j),l=c(9008),m=c.n(l),n=c(25675),o=c.n(n),p=c(62445),q=c(12754),r=c(67294),s=c(64241),t=c(97026),u=c(31909),v=c(16923),w=c(17254),x=c(93495);function y(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-8 bg-gray-300 h-8 rounded-full animate-pulse "}),(0,i.jsx)("div",{className:"ml-2 text-gray-800 w-9 rounded-md h-5 bg-gray-300 animate-pulse"})]})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)("div",{className:"text-base font-medium bg-gray-300 animate-pulse w-16 h-5 rounded-md text-gray-800"}),(0,i.jsx)("div",{className:"text-sm mt-1 bg-gray-300 animate-pulse w-16 h-5 rounded-md "})]}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ",children:(0,i.jsx)("div",{className:"text-base bg-gray-300 animate-pulse w-9 h-5 rounded-md"})}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)("div",{className:"text-base bg-gray-300 animate-pulse w-16 h-5 rounded-md"})}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsxs)("div",{className:"flex",children:[(0,i.jsx)("div",{className:"h-8 rounded-md w-16 animate-pulse bg-gray-300"}),(0,i.jsx)("div",{className:"h-8 rounded-md w-16 animate-pulse ml-2 bg-gray-300"})]})})]})})}function z(a){var b=a.token,c=a.Withdraw,d=a.Supply;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{src:b.image,width:30,height:30,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"ml-2 text-gray-800",children:null==b?void 0:b.name})]})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)("div",{className:"text-base font-medium text-gray-800",children:(0,w.j)(b.userTokenLentAmount.amount,3)}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["$",(0,w.j)(b.userTokenLentAmount.inDollars,2)]})]}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)("div",{className:"text-green-700 text-lg align-right font-medium",children:" âœ” "})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)(c,{}),(0,i.jsx)(d,{})]})]})})}function A(a){var b=a.children,c=a.tokens,d=a.balance;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:[(0,i.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,i.jsxs)("div",{className:"relative w-full px-4 max-w-full",children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Your Supplies"}),(0,i.jsx)("div",{className:"mt-4 flex",children:(0,i.jsxs)("div",{className:"border rounded-md p-1 px-2",children:[(0,i.jsx)("span",{className:"text-gray-800 font-medium",children:"Balance: $"}),(0,i.jsx)("span",{className:"font-medium",children:d?(0,w.j)(d,2):"0"})]})})]}),(0,i.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,i.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,i.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Assets"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Balance"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Collateral"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"})]})}),(0,i.jsxs)("tbody",{children:[!c&&(0,i.jsx)(y,{}),null==c?void 0:c.map(function(a){return b(a)})]})]})})]})})}var B=c(55584);function C(a){var b=a.token,c=a.Repay,d=a.Borrow;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{src:b.image,width:30,height:30,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"ml-2 text-gray-800",children:b.name})]})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 bordear align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)("div",{className:"text-base font-medium text-gray-800",children:(0,w.j)(b.userTokenBorrowedAmount.amount,4)}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["$",(0,w.j)(b.userTokenBorrowedAmount.inDollars,2)]})]}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsxs)("div",{className:"text-base",children:[(0,w.j)(b.borrowAPYRate,2),"%"]})}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)("span",{className:"border text-base border-gray-400 p-1 px-3 rounded-md",children:"Stable"})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)(c,{}),(0,i.jsx)(d,{})]})]})})}function D(a){var b=a.children,c=a.tokens,d=a.balance;return(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:[(0,i.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,i.jsxs)("div",{className:"relative w-full px-4 max-w-full",children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Your Borrows"}),(0,i.jsx)("div",{className:"mt-4 flex",children:(0,i.jsxs)("div",{className:"border rounded-md font-medium text-gray-800 p-1 px-2",children:["Balance:"," ",(0,i.jsxs)("span",{className:"font-medium",children:["$",d?(0,B.j)(d,2):"0"]})]})})]}),(0,i.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,i.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,i.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Assets"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Debts"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Interest Rate"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Interest type"}),(0,i.jsx)("th",{className:"px-4 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"})]})}),(0,i.jsxs)("tbody",{children:[!c&&(0,i.jsx)(y,{}),null==c?void 0:c.map(function(a){return b(a)})]})]})})]})})}function E(a){var b,c=a.token,d=(a.balance,a.Borrow,a.Supply,a.Details),e="0.00",f="0",g=.999*(c.userTotalAmountAvailableForBorrowInDollars/parseFloat(c.oneTokenToDollar)),h=parseFloat(c.availableAmountInContract.amount),j=(0,B.C)(c,h);return h>=g?(e=g,f=(0,B.C)(c,e)):(e=h,f=j),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left",children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{src:c.image,width:30,height:30,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"ml-2 text-gray-800",children:null==c?void 0:c.name})]})}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)("div",{className:"text-base font-medium text-gray-800",children:(0,w.j)(c.walletBalance.amount,4)}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["$",(0,w.j)(c.walletBalance.inDollars,2)]})]}),(0,i.jsxs)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:[(0,i.jsx)("div",{className:"text-base font-medium text-gray-800",children:(0,w.j)(e,4)}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:["$",(0,w.j)(f,2)]})]}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)("div",{className:"text-base",children:(0,i.jsxs)("span",{className:"border border-gray-400 p-1 px-3 rounded-md",children:[Number(b=c.borrowAPYRate).toFixed(2),"%"]})})}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)("div",{className:"text-green-700 text-lg font-large",children:" âœ” "})}),(0,i.jsx)("td",{className:"border-t-0 px-4 border align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:(0,i.jsx)(d,{})})]})})}function F(a){var b=a.tokens,c=a.children;return(0,i.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded",children:[(0,i.jsx)("div",{className:"rounded-t mb-0 px-4 py-3 border-0",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,i.jsx)("div",{className:"relative w-full max-w-full",children:(0,i.jsx)("h3",{className:"font-bold text-lg px-0 ",children:"Supported Assets to Lend/Borrow"})}),(0,i.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,i.jsx)("div",{className:"block w-full overflow-auto",children:(0,i.jsxs)("table",{className:"items-center w-full bg-transparent border-collapse",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Assets"}),(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Wallet Balance"}),(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Available To Borrow"}),(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-right border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Interest(stable)"}),(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:"Can be collateral"}),(0,i.jsx)("th",{className:"px-4 bg-blue-50 text-blue-500 align-middle border border-solid border-blue-100 py-3 text-xs text-gray-800 border-t-0 border-l-0 border-r-0 whitespace-nowrap font-semibold text-left"})]})}),(0,i.jsxs)("tbody",{children:[!b&&(0,i.jsx)(y,{}),null==b?void 0:b.map(function(a){return c(a)})]})]})})]})}var G=c(64845),H=c(7177),I=c(93381),J=c(8962),K=c(34013);function L(a){var b,c,e,f=a.token,g=a.closeModal,j=a.onWithdraw,k=a.withdrawError,l=a.withdrawResult,m=(a.addTokenToMetamask,a.contract),n=a.web3,p=(0,v.WH)().promiseInProgress,q=(0,r.useState)(""),s=q[0],t=q[1],u=(0,r.useState)("0"),x=u[0],y=u[1],z=f.userTotalAmountAvailableToWithdrawInDollars,A=f.userTokenLentAmount.inDollars-f.totalBorrowedInContract.inDollars;return z<=A?(b=z/f.oneTokenToDollar,c=(0,B.C)(f,b,m,n)):(b=A/f.oneTokenToDollar,c=(0,B.C)(f,b,m,n)),(0,i.jsxs)(K.Z,{children:[(0,i.jsx)("div",{className:"p-5",children:(0,i.jsxs)("div",{className:"flex justify-between items-center rounded-t",children:[(0,i.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:(null==l?void 0:l.transactionHash)?"Sucessful":"Withdraw ".concat(null==f?void 0:f.name)}),(0,i.jsx)("button",{onClick:function(){t(""),y("0.00"),g()},disabled:p,type:"button",className:"text-gray-400 bg-transparent ".concat(p?"text-gray-200":"dark:hover:bg-gray-600 dark:hover:text-white hover:bg-gray-200 hover:text-gray-900","  rounded-lg text-sm p-1.5 ml-auto inline-flex items-center "),"data-modal-toggle":"small-modal",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(null==l?void 0:l.transactionHash)?(0,i.jsx)("div",{className:" w-full h-full md:h-auto",children:(0,i.jsxs)("div",{className:"flex flex-col w-full justiy-center items-center",children:[(0,i.jsx)(o(),{src:I.Z,width:60,height:60,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"font-bold mt-4",children:"All Done!"}),(0,i.jsxs)("p",{children:["You've withdrawn ",s," ",null==f?void 0:f.name]}),(0,i.jsx)("button",{onClick:function(){window.open("https://goerli.etherscan.io/tx/".concat(l.transactionHash),"_blank")},className:"text-sm justify-center pr-3 mt-3 text-blue-500 ",children:"view tx details on etherscan"}),(0,i.jsx)("div",{className:"flex w-full items-center p-6 space-x-2 rounded-b border-gray-200 dark:border-gray-600",children:(0,i.jsx)("button",{onClick:function(){t(""),y("0.00"),g()},"data-modal-toggle":"small-modal",type:"button",className:"text-white w-full bg-gray-800 hover:bg-gray-900 hover:text-white rounded-md p-3",children:(0,i.jsx)("div",{className:"flex justify-center ",children:"Ok, Close."})})})]})}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"p-6 pt-1 space-y-3",children:[(0,i.jsx)("p",{className:"text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Amount"}),(0,i.jsxs)("div",{className:"flex flex-col items-center border rounded-md p-2 border-gray-300",children:[(0,i.jsxs)("div",{className:"w-full flex items-center",children:[(0,i.jsx)("input",{onChange:(e=(0,d.Z)(h().mark(function a(d){var e,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!isNaN(e=d.target.value)){a.next=3;break}return a.abrupt("return");case 3:if(!(Number(e)>=Number(b))){a.next=7;break}return t(parseFloat(b)),y((0,w.j)(c,3)),a.abrupt("return");case 7:g="0.00",e&&(g=parseFloat(e)*(null==f?void 0:f.oneTokenToDollar)),y((0,w.j)(g,3)),t(e);case 11:case"end":return a.stop()}},a)})),function(a){return e.apply(this,arguments)}),value:s,type:"text",name:"text",id:"text",placeholder:"0.00",className:"w-80 block pl-2 p-1 font-medium sm:text-lg focus:outline-none rounded-md"}),f&&(0,i.jsx)(o(),{src:f.image,width:30,height:30,layout:"fixed",className:"ml-2 card-img-top",alt:"coinimage"}),(0,i.jsx)("p",{className:"font-medium text-sm ml-2",children:null==f?void 0:f.name})]}),(0,i.jsxs)("div",{className:"w-full justify-between flex items-center",children:[(0,i.jsxs)("p",{className:"pl-2 pt-0 mt-0 font-medium text-sm text-gray-400",children:["$",x]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("p",{className:"font-medium text-sm text-gray-600",children:["Balance: ",(0,w.j)(b,4)]}),(0,i.jsx)("button",{onClick:function(){t(Number(b)),y((0,w.j)(c,3))},className:"font-medium ml-2 text-gray-6 00 text-sm",children:"MAX"})]})]})]}),k&&(0,i.jsx)("div",{className:"text-red-600 text-sm mt-5 bg-red-200 border overflow-auto scrollbar-hide rounded-md p-2 border-red-200 font-medium",children:k.message})]}),(0,i.jsx)("div",{className:"flex w-full items-center p-6 space-x-2 rounded-b border-gray-200 dark:border-gray-600",children:(0,i.jsx)("button",{disabled:!s||p,onClick:function(){return j(f,s)},"data-modal-toggle":"small-modal",type:"button",className:"".concat(p?"bg-gray-500 cursor-not-allowed":"bg-gray-800 hover:bg-gray-900 ","text-white w-full hover:text-white rounded-md p-2"),children:(0,i.jsx)("div",{className:"flex justify-center ",children:(0,i.jsx)(J.O,{buttonText:"Withdraw ".concat(null==f?void 0:f.name),loadingMessage:"Withdrawing ".concat(null==f?void 0:f.name)})})})})]})]})}function M(a){var b,c=a.token,e=a.closeModal,f=a.onRepay,g=a.repayError,j=a.repayResult,k=(a.web3,(0,v.WH)().promiseInProgress),l=(0,r.useState)(""),m=l[0],n=l[1],p=(0,r.useState)("0"),q=p[0],s=p[1],t=(Number(c.walletBalance.amount)-Number(c.walletBalance.amount)*Number(c.borrowAPYRate)/100).toString(),u=(Number(c.userTokenBorrowedAmount.amount)+Number(c.userTokenBorrowedAmount.amount)*Number(c.borrowAPYRate)/100).toString();b=Number(c.walletBalance.amount)>u?Number(c.userTokenBorrowedAmount.amount):t;var w,x=(0,B.C)(c,b),y=c.userTokenBorrowedAmount.amount,z=(0,B.C)(c,y);return(0,i.jsxs)(K.Z,{children:[(0,i.jsx)("div",{className:"p-5",children:(0,i.jsxs)("div",{className:"flex justify-between items-center rounded-t",children:[(0,i.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:(null==j?void 0:j.transactionHash)?"Sucessful":"Repay ".concat(c.name)}),(0,i.jsx)("button",{onClick:function(){n(""),s("0.00"),e()},disabled:k,type:"button",className:"text-gray-400 bg-transparent ".concat(k?"text-gray-200":"dark:hover:bg-gray-600 dark:hover:text-white hover:bg-gray-200 hover:text-gray-900","  rounded-lg text-sm p-1.5 ml-auto inline-flex items-center "),"data-modal-toggle":"small-modal",children:(0,i.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})}),(null==j?void 0:j.transactionHash)?(0,i.jsx)("div",{className:"pt-1 space-y-3",children:(0,i.jsxs)("div",{className:"flex flex-col justiy-center items-center",children:[(0,i.jsx)(o(),{src:I.Z,width:60,height:60,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"font-bold mt-4",children:"All Done!"}),(0,i.jsxs)("p",{children:["You repayed ",(0,B.j)(m,2)," ",c.name]}),(0,i.jsxs)("button",{onClick:function(){window.open("https://goerli.etherscan.io/tx/".concat(j.transactionHash),"_blank")},className:"text-sm justify-center pr-3 mt-3 text-blue-500 ",children:["view tx details on etherscan"," "]}),(0,i.jsx)("div",{className:"flex w-full items-center p-6 space-x-2 rounded-b border-gray-200 dark:border-gray-600",children:(0,i.jsx)("button",{onClick:function(){n("0"),s("0.00"),e()},"data-modal-toggle":"small-modal",type:"button",className:"text-white w-full bg-gray-800 hover:bg-gray-900 hover:text-white rounded-md p-3",children:(0,i.jsx)("div",{className:"flex justify-center ",children:"Ok, Close."})})})]})}):(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"p-6 pt-1 space-y-3",children:[(0,i.jsx)("p",{className:"text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Amount"}),(0,i.jsxs)("div",{className:"flex flex-col items-center border rounded-md p-2 border-gray-300",children:[(0,i.jsxs)("div",{className:"w-full flex items-center",children:[(0,i.jsx)("input",{onChange:(w=(0,d.Z)(h().mark(function a(d){var e,f;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!isNaN(e=d.target.value)){a.next=4;break}return n("0"),a.abrupt("return");case 4:if(!(Number(e)>=Number(b))){a.next=8;break}return n(b),s((0,B.j)(x,3)),a.abrupt("return");case 8:f=(0,B.C)(c,e),s((0,B.j)(f,3)),n(e);case 11:case"end":return a.stop()}},a)})),function(a){return w.apply(this,arguments)}),value:m,type:"text",name:"text",id:"text",placeholder:"0.00",className:"w-80 block pl-2 p-1 font-medium sm:text-lg focus:outline-none rounded-md"}),(0,i.jsx)(o(),{src:c.image,width:30,height:30,layout:"fixed",className:"ml-2 card-img-top",alt:"coinimage"}),(0,i.jsx)("p",{className:"font-medium text-sm ml-2",children:c.name})]}),(0,i.jsxs)("div",{className:"w-full justify-between flex items-center",children:[(0,i.jsxs)("p",{className:"pl-2 pt-0 mt-0 font-medium text-sm text-gray-400",children:["$",isNaN(q)?"0":q]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("p",{className:"font-medium text-sm text-gray-600",children:["Balance: ",(0,B.j)(c.walletBalance.amount,4)]}),(0,i.jsx)("button",{onClick:function(){n(Number(b)),s((0,B.j)(x,4))},className:"font-medium ml-2 text-gray-6 00 text-sm",children:"MAX"})]})]})]})]}),(0,i.jsxs)("div",{className:"p-6 pt-1 space-y-3",children:[(0,i.jsx)("p",{className:"text-base leading-relaxed text-gray-500 dark:text-gray-400",children:"Transaction Overview"}),(0,i.jsxs)("div",{className:"flex flex-col items-center border rounded-md p-2 border-gray-300",children:[(0,i.jsxs)("div",{className:"w-full flex items-center justify-between text-sm sm:text-md",children:["Remaining Debt",(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{src:c.image,width:30,height:30,layout:"fixed",className:"ml-2 card-img-top",alt:"coinimage"}),(0,i.jsxs)("p",{className:"font-medium text-sm ml-2",children:[(0,B.j)(y,4)," ",c.name," "]})]})]}),(0,i.jsxs)("div",{className:"w-full justify-between flex items-center",children:[(0,i.jsx)("p",{}),(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("p",{className:"font-medium text-sm text-gray-600",children:["$",(0,B.j)(z,4)]})})]})]}),g&&(0,i.jsx)("div",{className:"text-red-600 h-auto overflow-auto scrollbar-hide text-sm mt-5 bg-red-200 border rounded-md p-2 border-red-200 font-medium",children:g.message.toString()})]}),(0,i.jsx)("div",{className:"flex w-full items-center p-6 space-x-2 rounded-b border-gray-200 dark:border-gray-600",children:(0,i.jsx)("button",{disabled:!m,onClick:function(){return f(c,m)},"data-modal-toggle":"small-modal",type:"button",className:"".concat(k?"bg-gray-500 cursor-wait":"bg-gray-800 hover:bg-gray-900 ","text-white w-full hover:text-white rounded-md p-2"),children:(0,i.jsx)("div",{className:"flex justify-center ",children:(0,i.jsx)(J.O,{buttonText:"Repay ".concat(c.name),loadingMessage:"Repaying ".concat(c.name)})})})})]})]})}var N=c(24266);function O(){var a,b,c,g,j,l,n,y,B,I=(0,p.LN)().network,J=(0,q.$6)(),K=J.requireInstall,O=J.isLoading,P=J.connect,Q=J.contract,R=J.web3,S=(0,p.mA)().account,T=(0,p.Ye)().tokens;(0,p.qx)().tokensForBorrow;var U=(0,p.$9)().yourSupplies,V=(0,p.d8)().yourBorrows,W={USDT:"https://staging.aave.com/icons/tokens/usdt.svg",ETH:"https://staging.aave.com/icons/tokens/eth.svg",LAR:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqZs8PLHRLaGd4QfIvOYmCg30svx5dHp0y6A&usqp=CAU"},X=(0,r.useState)(null),Y=X[0],Z=X[1],$=(0,r.useState)(null),_=$[0],aa=$[1],ab=(0,r.useState)(null),ac=ab[0],ad=ab[1],ae=(0,r.useState)(null),af=ae[0],ag=ae[1],ah=(0,r.useState)(null),ai=ah[0],aj=ah[1],ak=(0,r.useState)(!0),al=ak[0];ak[1];var am,an,ao,ap,aq,ar,as,at=(0,r.useState)(null),au=at[0],av=at[1],aw=(0,r.useState)(null),ax=aw[0],ay=aw[1],az=(0,r.useState)(null),aA=az[0],aB=az[1],aC=(0,r.useState)(null),aD=aC[0],aE=aC[1],aF=(0,r.useState)(null),aG=aF[0],aH=aF[1],aI=(0,r.useState)(null),aJ=aI[0],aK=aI[1],aL=(0,r.useState)(null),aM=aL[0],aN=aL[1],aO=(0,r.useState)(null),aP=aO[0],aQ=aO[1],aR=function(a,b){return a.toString()*Math.pow(10,b)},aS=function(){av(null),ay(null),aB(null),aE(null),aH(null),aK(null),aN(null),aQ(null),Z(null),aa(null),ad(null),ag(null),aj(null)},aT=(am=(0,d.Z)(h().mark(function a(b,c){var d,e,f,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.eth.net.getId();case 2:if(d=a.sent,"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"!=b.tokenAddress){a.next=16;break}return a.prev=4,a.next=7,(0,v.JE)(Q.methods.lend(b.tokenAddress,0).send({from:S.data,value:aR(c,b.decimals)}));case 7:ay(e=a.sent),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),av(a.t0);case 14:a.next=29;break;case 16:return f=new R.eth.Contract(t.Mt,b.tokenAddress),a.prev=17,a.next=20,(0,v.JE)(f.methods.approve(Q.options.address,aR(c,b.decimals)).send({from:S.data}));case 20:return a.next=22,(0,v.JE)(Q.methods.lend(f.options.address,aR(c,b.decimals)).send({from:S.data}));case 22:ay(g=a.sent),a.next=29;break;case 26:a.prev=26,a.t1=a.catch(17),av(a.t1);case 29:case"end":return a.stop()}},a,null,[[4,11],[17,26]])})),function(a,b){return am.apply(this,arguments)}),aU=(an=(0,d.Z)(h().mark(function a(b,c){var d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return aB(null),aE(null),c=parseFloat(c).toFixed(12),a.prev=3,a.next=6,(0,v.JE)(Q.methods.borrow(b.tokenAddress,aR(c,b.decimals)).send({from:S.data}));case 6:aE(d=a.sent),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),aB(a.t0);case 13:case"end":return a.stop()}},a,null,[[3,10]])})),function(a,b){return an.apply(this,arguments)}),aV=(ao=(0,d.Z)(h().mark(function a(b,c){var d,e,f,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return aH(null),aK(null),a.next=4,R.eth.net.getId();case 4:return d=a.sent,console.log("Token",b),a.prev=6,e=new R.eth.Contract(t.Mt,u.QW[d].address),console.log("token.decimals",aR(c,b.decimals)),a.next=11,e.methods.balanceOf(S.data).call();case 11:return f=a.sent,console.log("larTokenBalance",f),a.next=15,(0,v.JE)(e.methods.approve(Q.options.address,f).send({from:S.data}));case 15:return a.next=17,(0,v.JE)(Q.methods.withdraw(b.tokenAddress,aR(c,b.decimals)).send({from:S.data}));case 17:aK(g=a.sent),a.next=24;break;case 21:a.prev=21,a.t0=a.catch(6),aH(a.t0);case 24:case"end":return a.stop()}},a,null,[[6,21]])})),function(a,b){return ao.apply(this,arguments)}),aW=(ap=(0,d.Z)(h().mark(function a(b,c){var d,e,f,g,i,j;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return aN(null),aQ(null),a.next=4,Q.methods.tokensBorrowedAmount(b.tokenAddress,S.data).call();case 4:return d=a.sent,console.log("tokenBought",d),a.next=8,Q.methods.interest(b.tokenAddress,d).call();case 8:if(e=a.sent,f=(Number(aR(c,b.decimals))+Number(e)).toString(),"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"!=b.tokenAddress){a.next=23;break}return a.prev=11,a.next=14,(0,v.JE)(Q.methods.payDebt(b.tokenAddress,0).send({from:S.data,value:f}));case 14:aQ(g=a.sent),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(11),aN(a.t0);case 21:a.next=37;break;case 23:return i=new R.eth.Contract(t.Mt,b.tokenAddress),a.prev=24,console.log("amountToPayBack",f),a.next=28,(0,v.JE)(i.methods.approve(Q.options.address,f).send({from:S.data}));case 28:return a.next=30,(0,v.JE)(Q.methods.payDebt(b.tokenAddress,f).send({from:S.data}));case 30:aQ(j=a.sent),a.next=37;break;case 34:a.prev=34,a.t1=a.catch(24),aN(a.t1);case 37:case"end":return a.stop()}},a,null,[[11,18],[24,34]])})),function(a,b){return ap.apply(this,arguments)}),aX=(aq=(0,d.Z)(h().mark(function a(b){var c,d,e,f,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.tokenAddress,d=b.name,e=b.decimals,f=W[b.name],a.prev=4,a.next=7,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:c,symbol:d,decimals:e,image:f}}});case 7:g=a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),console.log(a.t0);case 14:case"end":return a.stop()}},a,null,[[4,11]])})),function(a){return aq.apply(this,arguments)}),aY=(ar=(0,d.Z)(h().mark(function a(b){var c,d,e,f,g;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.tokenAddress,d=b.name,e=b.decimals,f=W[b.name],a.prev=4,a.next=7,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:c,symbol:d,decimals:e,image:f}}});case 7:g=a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),console.log(a.t0);case 14:case"end":return a.stop()}},a,null,[[4,11]])})),function(a){return ar.apply(this,arguments)}),aZ=(as=(0,d.Z)(h().mark(function a(b){var c,d,e,f,g,i,j;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.eth.net.getId();case 2:return c=a.sent,e=(d=new R.eth.Contract(t.Mt,u.QW[c].address)).options.address,f="ATK",g=18,i=W.LAR,a.prev=8,a.next=11,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:f,decimals:g,image:i}}});case 11:j=a.sent,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}},a,null,[[8,15]])})),function(a){return as.apply(this,arguments)});return(0,i.jsxs)("div",{children:[(0,i.jsx)(m(),{children:(0,i.jsx)("title",{children:"DeFi Lending Borrowing"})}),O?(0,i.jsx)("div",{className:"w-full grid h-screen place-items-center bg-blue-200 text-black",children:(0,i.jsx)("div",{className:"border border-white p-2 rounded-md",children:"Connecting metamask . . . ."})}):S.data?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsxs)("div",{className:"relative bg-white-100 ",children:[(0,i.jsx)(x.Z,{accountAddress:S.data}),(0,i.jsx)("div",{className:"relative bg-blue-100 md:pt-32 pb-32 pt-12",children:(0,i.jsx)("div",{className:"px-1 md:px-10 mx-auto w-full",children:(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"flex flex-wrap",children:(0,i.jsx)("div",{className:"w-full px-2",children:(0,i.jsxs)("div",{className:"relative flex sm:flex-row sm:mt-0 mt-6 flex-col xl:w-5/12 min-w-0 p-3 rounded mb-6 xl:mb-0 ",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o(),{src:s.Z,width:50,height:40,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,i.jsx)("div",{className:"",children:"Goerli Test Network"===I.data?(0,i.jsx)("div",{className:"text-2xl text-black sm:text-2xl text- ml-2 font-bold",children:"Lending Borrowing Platform"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"bg-red-500 p-2 text-sm rounded-md text-white",children:"Connected to the Wrong network"}),(0,i.jsx)("div",{className:"text-2xl sm:text-2xl text- ml-2 text-white font-bold",children:"Please switch to Goerli"})]})})]}),(0,i.jsx)("div",{className:"flex mt-2 text-black",children:(0,i.jsxs)("div",{className:"flex pt-2 sm:ml-6 items-center ",children:[(0,i.jsx)("div",{className:" h-9",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-910",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:1,children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,i.jsx)("div",{className:" ml-2",children:(0,i.jsxs)("div",{className:"text-sm text-black",children:["Wallet Balance"," ",(0,i.jsxs)("p",{className:"font-bold text-xl",children:["$",isNaN((null===(a=U.data)|| void 0===a?void 0:a.yourBalance)-(null===(b=V.data)|| void 0===b?void 0:b.yourBalance))?"0":(0,w.j)((null===(c=U.data)|| void 0===c?void 0:c.yourBalance)-(null===(g=V.data)|| void 0===g?void 0:g.yourBalance),3)]})]})})]})})]})})})})})}),(0,i.jsxs)("div",{className:"px-2 md:px-10 mx-auto w-full -m-24",children:[(0,i.jsxs)("div",{className:"flex flex-wrap mt-4",children:[(0,i.jsx)("div",{className:"w-full xl:w-12/12 xl:mb-0 px-2",children:(0,i.jsx)(F,{tokens:T.data,children:function(a){return(0,i.jsx)(E,{token:a,Supply:function(){return(0,i.jsx)("button",{onClick:function(){return Z(a)},className:"bg-blue-400 text-base text-white p-2 rounded-md",children:"Supply"})},Details:function(){if(R&&Q){var b;return(0,i.jsx)(k(),{href:{pathname:"/reserve-overview/".concat(a.name),query:(0,f.Z)((0,e.Z)({},a),{availableAmountInContract:JSON.stringify(a.availableAmountInContract),image:JSON.stringify(a.image),totalBorrowedInContract:JSON.stringify(a.totalBorrowedInContract),totalSuppliedInContract:JSON.stringify(a.totalSuppliedInContract),userTokenBorrowedAmount:JSON.stringify(a.userTokenBorrowedAmount),userTokenLentAmount:JSON.stringify(a.userTokenLentAmount),walletBalance:JSON.stringify(a.walletBalance),userTotalSupplyBalance:null===(b=U.data)|| void 0===b?void 0:b.yourBalance})},as:"/reserve-overview/".concat(a.name),children:(0,i.jsxs)("a",{className:"ml-2 bg-blue-400 text-base text-white p-2 rounded-md",children:[" ","Details"]})})}}},a.tokenAddress)}})}),(0,i.jsx)("div",{className:"w-full xl:w-6/12 xl:mb-0 px-2",children:U&&(0,i.jsx)(A,{tokens:null===(j=U.data)|| void 0===j?void 0:j.yourSupplies,balance:null===(l=U.data)|| void 0===l?void 0:l.yourBalance,children:function(a){return(0,i.jsx)(z,{token:a,Withdraw:function(){return(0,i.jsx)("button",{onClick:function(){return ad(a)},className:"ml-2 bg-blue-400 text-base text-white p-2 rounded-md",children:"Withdraw"})},Supply:function(){return(0,i.jsx)("button",{onClick:function(){return Z(a)},className:"ml-2 bg-blue-400 text-base text-white p-2 rounded-md",children:"Supply"})}},a.tokenAddress)}})}),(0,i.jsx)("div",{className:"w-full xl:w-6/12 px-2",children:(0,i.jsx)(D,{tokens:null===(n=V.data)|| void 0===n?void 0:n.yourBorrows,balance:null===(y=V.data)|| void 0===y?void 0:y.yourBalance,children:function(a){return(0,i.jsx)(C,{token:a,Repay:function(){return(0,i.jsx)("button",{onClick:function(){return ag(a)},className:"ml-2 bg-white-500 bg-blue-400 text-base text-white p-2 rounded-md",children:"Repay"})},Borrow:function(){return(0,i.jsx)("button",{onClick:function(){return aa(a)},className:"ml-2 bg-white-500 bg-blue-400 text-base text-white p-2 rounded-md",children:"Borrow"})}},a.tokenAddress)}})})]}),(0,i.jsx)("div",{className:"flex flex-wrap mt-4"}),(0,i.jsx)(G.Z,{})]})]})}),(0,i.jsx)("div",{className:"flex text-center sm:block sm:p-0"})]}):K?(0,i.jsx)("div",{className:"w-full grid h-screen place-items-center bg-black text-white",children:(0,i.jsx)("button",{onClick:function(){window.open("https://metamask.io/download/","_blank")},className:"border border-white p-2 rounded-md",children:"Install metamask"})}):(0,i.jsx)("div",{className:"w-full grid h-screen place-items-center bg-blue-200 text-black",children:(0,i.jsx)("button",{onClick:function(){return P()},className:"border border-white p-2 rounded-md",children:"Connect metamask to proceed . . . ."})}),(0,i.jsxs)("div",{className:"flex justify-center text-center sm:block sm:p-0 mt-2",children:[Y&&(0,i.jsx)(H.Z,{token:Y,supplyError:au,supplyResult:ax,transactionHash:ai,addATK:aZ,newSupply:al,closeModal:aS,onSupply:aT}),_&&(0,i.jsx)(N.Z,{token:_,closeModal:aS,balance:null===(B=U.data)|| void 0===B?void 0:B.yourBalance,onBorrow:aU,borrowingError:aA,borrowingResult:aD,addBorrowedToken:aX}),ac&&(0,i.jsx)(L,{token:ac,closeModal:aS,onWithdraw:aV,withdrawError:aG,withdrawResult:aJ,addTokenToMetamask:aY,contract:Q,web3:R}),af&&R&&(0,i.jsx)(M,{token:af,closeModal:aS,onRepay:aW,repayError:aM,repayResult:aP,web3:R})]})]})}},9008:function(a,b,c){a.exports=c(5443)}},function(a){a.O(0,[587,484,774,888,179],function(){var b;return a(a.s=75557)}),_N_E=a.O()}])
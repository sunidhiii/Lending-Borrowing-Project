(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{3213:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reserve-overview/[slug]",function(){return c(18633)}])},18633:function(a,b,c){"use strict";c.r(b),c.d(b,{"__N_SSP":function(){return w},default:function(){return x}});var d=c(85893);c(93495);var e=c(17254);function f(a){var b=a.token;return(0,d.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words px-4 bg-white w-full mb-6 shadow-lg rounded",children:[(0,d.jsx)("div",{className:"rounded-t mb-0 py-3 border-0",children:(0,d.jsxs)("div",{className:"flex flex-wrap",children:[(0,d.jsx)("div",{className:"relative w-full max-w-full",children:(0,d.jsx)("p",{className:"font-bold text-lg",children:"Your Supples and Borrows"})}),(0,d.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,d.jsxs)("div",{className:"block w-full overflow-x-auto ",children:[(0,d.jsxs)("div",{className:"flex sm:flex-row flex-col border mb-8 pb-8 border-r-0 border-l-0 border-t-0 border-gray-300",children:[(0,d.jsx)("div",{className:"font-medium text-lg w-6/12 mb-2",children:"Supply Info"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("div",{className:"flex mt-3 sm:mt-0",children:(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-500 text-sm ",children:"Total Supplied"}),(0,d.jsxs)("p",{className:"font-medium text-lg",children:["$",(0,e.j)(b.totalSuppliedInContract.inDollars,3)]})]})}),(0,d.jsxs)("div",{className:"bg-blue-100 my-3 px-2 rounded-md",children:[(0,d.jsx)("div",{className:"text-green-700 font-bold",children:"✔️ Can be collateral"}),(0,d.jsxs)("div",{className:"mt-2",children:[(0,d.jsx)("span",{className:"text-large",children:"MAX LTV: "}),(0,d.jsxs)("span",{className:"font-medium",children:[(0,e.j)(b.LTV,2),"%"]})]})]})]})]}),(0,d.jsxs)("div",{className:"flex sm:flex-row flex-col my-2 pb-8 ",children:[(0,d.jsx)("div",{className:"font-medium text-lg w-6/12",children:"Borrow Info"}),(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsxs)("div",{className:"flex mt-3 sm:mt-0",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-medium text-gray-500 text-sm ",children:"Total Borrowed"}),(0,d.jsxs)("p",{className:"font-medium text-lg",children:["$",(0,e.j)(b.totalBorrowedInContract.inDollars,2)]})]}),(0,d.jsxs)("div",{className:"ml-4",children:[(0,d.jsxs)("p",{className:"font-medium text-gray-500 text-sm",children:["Interest Stable"," "]}),(0,d.jsxs)("p",{className:"font-medium sm:text-lg",children:[(0,e.j)(b.borrowAPYRate,2),"%"]})]})]})})]})]})]})}var g=c(47568),h=c(34051),i=c.n(h),j=c(67294),k=c(24266),l=c(7177),m=c(97026),n=c(31909),o=c(16923);function p(a){var b,c=a.token,f=a.actualAvailable,h=a.web3,p=a.contract,q=a.account,r=a.yourSupplies;a.yourBorrows;var s,t,u,v,w={USDT:"https://staging.aave.com/icons/tokens/usdt.svg",ETH:"https://staging.aave.com/icons/tokens/eth.svg",LAR:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqZs8PLHRLaGd4QfIvOYmCg30svx5dHp0y6A&usqp=CAU"},x=(0,j.useState)(null),y=x[0],z=x[1],A=(0,j.useState)(null),B=A[0],C=A[1],D=(0,j.useState)(null),E=D[0],F=D[1],G=(0,j.useState)(null),H=G[0],I=G[1],J=(0,j.useState)(null),K=J[0],L=J[1],M=(0,j.useState)(null),N=M[0],O=M[1],P=function(){F(null),I(null),L(null),O(null),z(null),C(null)},Q=(s=(0,g.Z)(i().mark(function a(b,c){var d,e,f,g,j;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.eth.net.getId();case 2:if(d=a.sent,"0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE"!=b.tokenAddress){a.next=16;break}return a.prev=4,a.next=7,(0,o.JE)(p.methods.lend(b.tokenAddress,0).send({from:q.data,value:h.utils.toWei(c.toString())}));case 7:I(e=a.sent),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),F(a.t0);case 14:a.next=30;break;case 16:return f=new h.eth.Contract(m.Mt,b.tokenAddress),g=c.toString()*Math.pow(10,b.decimals),a.prev=18,a.next=21,(0,o.JE)(f.methods.approve(p.options.address,g).send({from:q.data}));case 21:return a.next=23,(0,o.JE)(p.methods.lend(f.options.address,g).send({from:q.data}));case 23:I(j=a.sent),a.next=30;break;case 27:a.prev=27,a.t1=a.catch(18),F(a.t1);case 30:case"end":return a.stop()}},a,null,[[4,11],[18,27]])})),function(a,b){return s.apply(this,arguments)}),R=(t=(0,g.Z)(i().mark(function a(b,c){var d,e;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return L(null),O(null),d=(c=parseFloat(c).toFixed(12)).toString()*Math.pow(10,b.decimals),a.prev=4,a.next=7,(0,o.JE)(p.methods.borrow(b.tokenAddress,d).send({from:q.data}));case 7:O(e=a.sent),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),L(a.t0);case 14:case"end":return a.stop()}},a,null,[[4,11]])})),function(a,b){return t.apply(this,arguments)}),S=(u=(0,g.Z)(i().mark(function a(b){var c,d,e,f,g;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=b.tokenAddress,d=b.name,e=b.decimals,f=w[b.name],a.prev=4,a.next=7,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:c,symbol:d,decimals:e,image:f}}});case 7:g=a.sent,a.next=14;break;case 11:a.prev=11,a.t0=a.catch(4),console.log(a.t0);case 14:case"end":return a.stop()}},a,null,[[4,11]])})),function(a){return u.apply(this,arguments)}),T=(v=(0,g.Z)(i().mark(function a(b){var c,d,e,f,g,j,k;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h.eth.net.getId();case 2:return c=a.sent,e=(d=new h.eth.Contract(m.Mt,n.QW[c].address)).options.address,f="LAR",g=18,j=w.LAR,a.prev=8,a.next=11,ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:f,decimals:g,image:j}}});case 11:k=a.sent,a.next=18;break;case 15:a.prev=15,a.t0=a.catch(8),console.log(a.t0);case 18:case"end":return a.stop()}},a,null,[[8,15]])})),function(a){return v.apply(this,arguments)});return(0,d.jsxs)("div",{className:"relative flex flex-col min-w-0 break-words px-4 bg-white w-full mb-6 shadow-lg rounded",children:[(0,d.jsx)("div",{className:"rounded-t mb-0 py-3 border-0",children:(0,d.jsxs)("div",{className:"flex flex-wrap",children:[(0,d.jsx)("div",{className:"relative w-full max-w-full",children:(0,d.jsx)("p",{className:"font-bold text-lg",children:"Your Info"})}),(0,d.jsx)("div",{className:"relative w-full px-4 max-w-full flex-grow flex-1 text-right"})]})}),(0,d.jsx)("div",{className:"block w-full overflow-x-auto ",children:(0,d.jsx)("div",{className:"flex sm:flex-row flex-col mb-8 pb-2 border-gray-300",children:(0,d.jsxs)("div",{className:"flex w-full flex-col",children:[(0,d.jsxs)("div",{className:"flex w-full py-8 justify-between",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Wallet Balance"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[(0,e.j)(c.walletBalance.amount,4)," ",c.name]}),(0,d.jsxs)("p",{className:"font-medium text-gray-500 text-sm",children:["$",(0,e.j)(c.walletBalance.inDollars,4)," "]})]})]}),(0,d.jsxs)("div",{className:"flex w-full justify-between",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Available to Supply"}),(0,d.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[(0,e.j)(c.walletBalance.amount,4)," ",c.name]})]}),(0,d.jsxs)("div",{className:"flex w-full py-2 justify-between",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm sm:text-base",children:"Available to Borrow"}),(0,d.jsxs)("p",{className:"font-medium text-sm sm:text-base",children:[" ",(0,e.j)(f,4)," ",c.name]})]}),(0,d.jsxs)("div",{className:"flex w-full pt-8",children:[(0,d.jsx)("button",{onClick:function(){return z(c)},className:"bg-blue-400 text-white p-2 rounded-md text-base",children:"Supply"}),(0,d.jsx)("button",{onClick:function(){return C(c)},className:"bg-blue-400 text-white ml-2 p-2 rounded-md text-base",children:"Borrow"})]}),(0,d.jsxs)("div",{className:"flex justify-center text-center sm:block sm:p-0 mt-2",children:[y&&(0,d.jsx)(l.Z,{token:y,supplyError:E,supplyResult:H,addATK:T,closeModal:P,onSupply:Q}),B&&(0,d.jsx)(k.Z,{token:B,closeModal:P,balance:null===(b=r.data)|| void 0===b?void 0:b.yourBalance,onBorrow:R,borrowingError:K,borrowingResult:N,addBorrowedToken:S})]})]})})})]})}var q=c(64845),r=c(25675),s=c.n(r),t=c(62445),u=c(12754);c(11163);var v=c(55584),w=!0;function x(a){var b,c=a.token,g=(0,u.$6)(),h=g.web3,i=g.contract,j=(0,t.mA)().account,k=(0,t.$9)().yourSupplies,l=(0,t.d8)().yourBorrows,m=c.userTotalAmountAvailableForBorrowInDollars,n=.999*(m/parseFloat(c.oneTokenToDollar)),o=parseFloat(c.availableAmountInContract.amount),r=(0,v.C)(c,o);return o>=n?(b=n,(0,v.C)(c,b)):(b=o,r),(0,d.jsx)("div",{className:"",children:(0,d.jsxs)("div",{className:"relative bg-gray-100 ",children:[(0,d.jsx)("div",{className:"relative bg-blue-100 md:pt-32 pb-32 pt-12",children:(0,d.jsx)("div",{className:"md:px-10 mx-auto w-full",children:(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"flex flex-wrap",children:(0,d.jsx)("div",{className:"w-full px-2",children:(0,d.jsxs)("div",{className:"relative flex sm:flex-row sm:mt-0 mt-6 flex-col xl:w-5/12 min-w-0 p-3 rounded mb-6 xl:mb-0 ",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[c.image&&(0,d.jsx)(s(),{src:c.image,width:40,height:40,layout:"fixed",className:"card-img-top",alt:"coinimage"}),(0,d.jsx)("div",{className:"text-2xl sm:text-4xl text- ml-2 text-black font-bold",children:c.name})]}),(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsxs)("div",{className:"flex pt-2 sm:ml-6 items-center",children:[(0,d.jsx)("div",{className:" h-9",children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-910",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:1,children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,d.jsx)("div",{className:" ml-2",children:(0,d.jsxs)("div",{className:"text-sm text-black",children:["Reserve Size:"," ",(0,d.jsxs)("div",{className:"font-bold text-xl",children:["$",(0,e.j)(c.totalSuppliedInContract.inDollars,2)]})]})})]}),(0,d.jsxs)("div",{className:"flex pt-2 ml-6 items-center",children:[(0,d.jsx)("div",{className:" h-9",children:(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9",fill:"none",viewBox:"0 0 24 24",stroke:"white",strokeWidth:2,children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]})}),(0,d.jsx)("div",{className:" ml-2",children:(0,d.jsxs)("div",{className:"text-sm text-black",children:["Available Liquidity:"," ",(0,d.jsxs)("div",{className:"font-bold text-xl",children:["$",(0,e.j)(c.availableAmountInContract.inDollars,2)]})]})})]})]})]})})})})})}),(0,d.jsxs)("div",{className:"px-2 md:px-10 mx-auto w-full -m-24",children:[(0,d.jsxs)("div",{className:"flex flex-wrap mt-4",children:[(0,d.jsx)("div",{className:"w-full xl:w-8/12 mb-5 xl:mb-0 px-2",children:(0,d.jsx)(f,{token:c})}),(0,d.jsx)("div",{className:"w-full xl:w-4/12 px-2",children:h&&i&&j&&(0,d.jsx)(p,{token:c,actualAvailable:b,web3:h,contract:i,account:j,yourSupplies:k,yourBorrows:l})})]}),(0,d.jsx)(q.Z,{})]})]})})}}},function(a){a.O(0,[587,484,774,888,179],function(){var b;return a(a.s=3213)}),_N_E=a.O()}])